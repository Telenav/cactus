#!/bin/sh

VERSION=__PLUGIN_VERSION_PLACEHOLDER__

export ADD_ARGS=''

if [ "-n" = "$1" ]; then
  # List but don't actually open PRs
  export ADD_ARGS='-Dcactus.pretend=true'
  shift
fi

if [ "-m" = "$1" ]; then
  export ADD_ARGS="${ADD_ARGS} -Dcactus.mergeable-only=true"
  shift
fi

if [ -n "$1" ]; then
    export ADD_ARGS="${ADD_ARGS} -Dcactus.target-branch=$1"
fi

MAVEN_ARGS="${ADD_ARGS}
    -Dcactus.include-root=true \
    -Dcactus.scope=all \
    com.telenav.cactus:cactus-maven-plugin:${VERSION}:show-prs"

# The run_maven function is generated by InstallScriptsMojo
run_maven
